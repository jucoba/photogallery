<% @gallery = Galleries[@route] %>
<div class="w3-container">
<h2><%= @gallery.name %></h2>
<p><%= @gallery.description %></p>
</div>

<div class="w3-row-padding">
  
  <% @slideIndex = 1 %>
  <% @gallery.pictures.each_key do |id| %> 
    <div class="w3-third">  
      <div class="w3-card-2 w3-margin-top">
        
          <img id='myImg<%= @slideIndex %>' alt='<%= @gallery.pictures[id].caption %>' src='<%= @gallery.pictures[id].url %>' style="width:100%" onclick=openMyImage(<%= @slideIndex %>)>
        
        <div class="w3-container">
          <h5><%= @gallery.pictures[id].caption %></h5>
        </div>
      </div>
    </div>
    <% @slideIndex += 1 %>
  <% end %>

  
</div>
<br>

<!-- The Modal -->
<div id="myModal" class="modal">
  <!-- The Close Button -->
  <span class="close" onclick="document.getElementById('myModal').style.display='none'">&times;</span>
  <!-- Modal Content (The Image) -->
  <img class="modal-content" id="img01">
  <!-- Modal Caption (Image Text) -->
  <div id="caption"></div>
  
</div>


<script>
// Get the modal
var modal = document.getElementById('myModal');





// Get the <span> element that closes the modal
var span = document.getElementsByClassName("close")[0];

// When the user clicks on <span> (x), close the modal
span.onclick = function() {
    modal.style.display = "none";
}

function openMyImage(imageIndex) {
  var img = document.getElementById('myImg'+imageIndex);
  var modalImg = document.getElementById("img01");
  var captionText = document.getElementById("caption");
  modal.style.display = "block";
  modalImg.src = img.src;
  modalImg.alt = img.alt;
  captionText.innerHTML = img.alt;

}
</script>






